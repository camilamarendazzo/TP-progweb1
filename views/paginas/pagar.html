<!--

    En esta pagina, van a estar los componentes:
        header, footer

    pero ademas creamos la descripcion del plan y el formulario de pago en la misma pagina.

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagar</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="../../style/normalize.css">
    <link rel="stylesheet" href="../../style/general.css">
    <link rel="stylesheet" href="../../style/paginas/pagar.css">
    <link rel="stylesheet" href="../../style/componentes/footer.css">
    <link rel="stylesheet" href="../../style/componentes/header.css">

    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/ed2ba7d635.js" crossorigin="anonymous"></script>

</head>
<body class="relleno">
    <header class="header">
        <a href="#" class="header-menu-mobile">
            <i class="fa-solid fa-bars"></i>
        </a>
        <div class="header-titulo">
            <h2 class="header-encabezado">SpotiLam</h2>
        </div>
        <div class="header-avatar">
            <a href="../../index.html" class="header-cerrar-mobile">
                <i class="fa-solid fa-right-from-bracket"></i>
            </a>
            <div class="header-texto">
                <p class="header-usuario">Nombre Usuario</p>
                <a href="../../index.html" class="header-cerrar">Cerrar Sesion</a>
            </div>
            <a href="../paginas/perfil.html" class="header-perfil">
                <i class="fa-solid fa-user"></i>
            </a>
        </div>
    </header>
    <main class="cajaCentrada">
    <section class="planPagar">
        <div class="tituloCentrado">
        <h3 class="plan-elegido"></h3>
        <div class="img"></div>
      
        <article><b>✓ Música sin anuncios</b></article>
        <article><b>✓ Escucha tus canciones en cualquier lugar</b></article>
        <article><b>✓ Reproducción on-demand</b></article>
        <article><b>✓ Prepaga o suscribite</b></article>  

        <div class="precio"></div>

        </div>


        <section class="cajitas">
            
            <article>
                <label for="Tarjeta" class="nombreCampo">Tarjeta</label>
                <input type="number" id="Tarjeta" placeholder="Numero de tarjeta" class="cajasValue nroTarjeta">
                <p class="alertaTarjeta"></p>

            </article>
           
            <article>
                <label for="VTO" class="nombreCampo">VTO</label>
                <input type="date" id="VTO" class="cajasValue">
            </article>
          
            <article>
                <label for="CVC" class="nombreCampo">CVC</label>
                <input type="number" id="CVC" placeholder="Codigo de seguridad" class="cajasValue cod">
                <p class="alertaCod"></p>
            </article>
    
            <article>
                <label for="Nombre y apellido" class="nombreCampo">Nombre y apellido</label>
                <input type="text" id="Nombre y apellido" placeholder="Ingrese nombre y apellido" class="cajasValue">
            </article>
        </section>
        <form method="get" action="../paginas/inicio.html" class="cajota">
            <article><button type="submit" class="boton">Cancelar</button></article>
            <article><button type="submit" class="boton btnPagar">Pagar</button></article>
        </form>
    
    </main>

    <!-- Componente FOOTER -->
    <footer class="footer">
        <div class="footer-integrante">
            <h3 class="footer-nombre">Brian</h3>
            <h3 class="footer-nombre">Klehr</h3>
            <p class="footer-dni">41.026.580</p>
            <a href="https://github.com/Sur4x" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
        <div class="footer-integrante">
            <h3 class="footer-nombre">Alexander</h3>
            <h3 class="footer-nombre">Funes</h3>
            <p class="footer-dni">34.117.699</p>
            <a href="https://github.com/javierfunes2018" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
        <div class="footer-integrante">
            <h3 class="footer-nombre">Antonella</h3>
            <h3 class="footer-nombre">Politi</h3>
            <p class="footer-dni">31.492.164</p>
            <a href="https://github.com/AntonellaPoliti" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
        <div class="footer-integrante">
            <h3 class="footer-nombre">Nahuel</h3>
            <h3 class="footer-nombre">Esposito</h3>
            <p class="footer-dni">43.862.624</p>
            <a href="https://github.com/Nahuel0911" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
        <div class="footer-integrante">
            <h3 class="footer-nombre">Gustavo</h3>
            <h3 class="footer-nombre">Miño</h3>
            <p class="footer-dni">38.126.357</p>
            <a href="https://github.com/gus-emma-uni" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
        <div class="footer-integrante">
            <h3 class="footer-nombre">Camila</h3>
            <h3 class="footer-nombre">Marendazzo</h3>
            <p class="footer-dni">43.054.264</p>
            <a href="https://github.com/camilamarendazzo" target="_blank" class="footer-icono">
                <i class="fa-brands fa-github"></i>
            </a>
        </div>
    </footer>
    <!-- Componente FOOTER -->
        

    <script>

        let URLActual = window.location.search;
        // console.log(URLActual);

        let pathActual = window.location.pathname;
        // console.log(pathActual);

        let URLPartida = URLActual.split("=");
        const NOMBRE_PLAN = URLPartida[1].toUpperCase();
        // console.log(NOMBRE_PLAN);

        const TITULO = document.querySelector(".plan-elegido").innerHTML="Ha elegido el PLAN " + NOMBRE_PLAN;
        // console.log(TITULO)
        
        // const IMAGEN = "<img src=\"../../assets/img/PlanInfinito.jpg\">"
        if(NOMBRE_PLAN == "MENSUAL"){
            document.querySelector(".img").innerHTML = "<img src=\"../../assets/img/PlanMensual.jpg\">";
            document.querySelector(".precio").innerHTML = "Total: $900";
            
        } else if (NOMBRE_PLAN == "ANUAL"){
            document.querySelector(".img").innerHTML = "<img src=\"../../assets/img/PlanAnual.jpg\">";
            document.querySelector(".precio").innerHTML = "Total: $9000";

        } else if (NOMBRE_PLAN == "INFINITO"){
            document.querySelector(".img").innerHTML = "<img src=\"../../assets/img/PlanInfinito.jpg\">";
            document.querySelector(".precio").innerHTML = "Total: $15000";

        }
        


        const BTN_PAGAR = document.querySelector(".btnPagar");
        
        BTN_PAGAR.addEventListener("click", (e) => {

            let nroTarjeta = document.querySelector(".nroTarjeta").value;
            let  cod = document.querySelector(".cod").value; 
            document.querySelector(".alertaTarjeta").innerHTML = ""
            document.querySelector(".alertaCod").innerHTML = ""

            if(nroTarjeta.length != 16){
                e.preventDefault();
                document.querySelector(".alertaTarjeta").innerHTML = "Número de tarjeta inválido"
            } 
            
            if (cod.length != 3 || cod == '000' || cod == '999'){
                e.preventDefault();
                document.querySelector(".alertaCod").innerHTML = "Código de seguridad inválido"
            }   

        })




    </script>

</body>
</html>